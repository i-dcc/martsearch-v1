<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>The Wellcome Trust Sanger Institute Mouse Resource Portal</title>
    
    <!-- jQuery (http://jquery.com) & jQuery UI (http://jqueryui.com) -->
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js" charset="utf-8"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7/jquery-ui.min.js" charset="utf-8"></script>
    <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7/themes/redmond/jquery-ui.css" type="text/css" media="screen" charset="utf-8" />
    
    <!-- Supporting libraries and plugins -->
    <script type="text/javascript" src="js/utils/ejs/ejs.js" charset="utf-8"></script>
    <script type="text/javascript" src="js/utils/ejs/view.js" charset="utf-8"></script>
    <script type="text/javascript" src="js/utils/ejs/ejs_fulljslint.js" charset="utf-8"></script>
    <script type="text/javascript" src="js/utils/jquery/jquery.pagination.js" charset="utf-8"></script>
    <script type="text/javascript" src="js/utils/jquery/jquery.togglecontrol.js" charset="utf-8"></script>
    <script type="text/javascript" src="js/utils/jquery/jquery.prettyPhoto.js" charset="utf-8"></script>
    <link rel="stylesheet" href="css/jquery.prettyPhoto.css" type="text/css" media="screen" charset="utf-8" />
    <script type="text/javascript" src="js/utils/jquery/jquery.tablesorter.js" charset="utf-8"></script>
    <script type="text/javascript" src="js/utils/jquery/jquery.tablesorter.pager.js" charset="utf-8"></script>
    <link rel="stylesheet" href="css/jquery.tablesorter.css" type="text/css" media="screen" charset="utf-8" />
    <script type="text/javascript" src="js/utils/jquery/jquery.qtip.js" charset="utf-8"></script>
    
    <!-- The MartSearch App -->
    <script type="text/javascript" src="js/support.js" charset="utf-8"></script>
    <script type="text/javascript" src="js/message.js" charset="utf-8"></script>
    <script type="text/javascript" src="js/index.js" charset="utf-8"></script>
    <script type="text/javascript" src="js/dataset.js" charset="utf-8"></script>
    <script type="text/javascript" src="js/martsearch.js" charset="utf-8"></script>
    <link rel="stylesheet" href="css/martsearch.css" type="text/css" media="screen" charset="utf-8" />
    <script type="text/javascript" charset="utf-8">
      jQuery(document).ready(function() {
        ms = new MartSearch({});
        //ms = new MartSearch({ base_url: "/dev/martsearch-sanger" });
        ms.init();
      });
    </script>
    
    <!-- Blackbird (http://www.gscottolson.com/blackbirdjs) - comment out for production -->
    <script src="js/utils/blackbirdjs/blackbird.js" type="text/javascript" charset="utf-8"></script>
    <script type="text/javascript" charset="utf-8">
      jQuery(document).ready(function() {
        jQuery('#bbird_controls').show();
        jQuery('#bbird_toggle').click( function () { log.toggle(); });
        jQuery('#bbird_move').click( function () { log.move(); });
      });
    </script>
    <link type="text/css" rel="Stylesheet" href="js/utils/blackbirdjs/blackbird.css" />

    <!-- Firebug Lite (http://getfirebug.com/lite.html) - comment out for production -->
    <!--
    <script type='text/javascript' src='http://getfirebug.com/releases/lite/1.2/firebug-lite-compressed.js'></script>
    <script type="text/javascript">firebug.env.height = 300;</script>
    -->
  </head>
  <body>
    <div id="content">
      
      <div id="header">
        <h1>WTSI Mouse Resource Portal <span class="subhead">beta</span></h1>
      </div>
      
      <noscript>
        <div id="noscript_warning" class="ui-state-error ui-corner-all">
          <span class="ui-icon ui-icon-alert"></span>
          <p>
            <strong>WARNING:</strong> It appears that you do not have javascript 
            enabled in your browser.  Unfortunately this portal will not function 
            without javascript enabled.  Please 
            <a href="http://www.google.com/search?q=enable+javascript">enable 
            javascript</a> in your browser and refresh the page.
          </p>
        </div>
      </noscript>
      
      <!-- BEGIN: tabs -->
      <div id="tabs">
        <ul>
          <li><a href="#search">Search</a></li>
          <li><a href="#browse">Browse</a></li>
          <!--<li><a href="#configure">Configure</a></li>-->
          <li><a href="#help">Help</a></li>
          <li><a href="#about">About</a></li>
        </ul>
        
        <!-- main search tab -->
        <div id="search">
          
          <!-- loading marker -->
          <span id="search_loading" class="loading" style="display: none;"><img src="images/loading.gif" alt="searching..." /></span>
          
          <!-- search form -->
          <div class="center ui-widget">
            <form id="mart_search" action="search" method="get" accept-charset="utf-8">
              <input type="text" name="query" value="" id="query" size="50" />&nbsp;
              <input type="submit" value="Search" /><br />
              <small>Enter gene symbols, gene or product identifiers or any other search term described in the <a class="help_link" href="#help">help</a> section.</small>
            </form>
          </div>
          
          <!-- messages for the user -->
          <div id="search_messages" class="messages ui-widget"></div>
          
          <!-- results section -->
          <div id="search_results" class="results">
            <div id="search_results_pager_top" class="pagination"></div>
            <ul id="search_result_list" class="result_list"></ul>
            <div id="search_results_pager_bottom" class="pagination"></div>
            <div class="clear"></div>
          </div>
          
          <!-- Intro text -->
          <div id="intro_text">
            <h2>About This Portal</h2>
            <p>
              The Wellcome Trust Sanger Institute generates, characterises, and 
              uses a variety of reagents for mouse genetics research. It also 
              aims to facilitate the distribution of these resources to the 
              external scientific community. Here, you will find unified access 
              to the different resources available from the Institute or its 
              collaborators. The resources include: 129S7 and C57BL6/J bacterial 
              artificial chromosomes (BACs), MICER gene targeting vectors, 
              knock-out first conditional-ready gene targeting vectors, embryonic 
              stem (ES) cells with gene targeted mutations or with retroviral gene 
              trap insertions, mutant mouse lines, and phenotypic data generated 
              from the Institute's primary screen.
            </p>
            <h2>Summary</h2>
            <p>
              The table below displays the number of unique genes with each individual 
              product type produced at the Wellcome Trust Sanger Institute.
            </p>
            <div id="summary_statistics"></div>
          </div>
        </div>
        
        <!-- browse tab -->
        <div id="browse">
          
          <!-- loading marker -->
          <span id="browse_loading" class="loading" style="display: none;"><img src="images/loading.gif" alt="searching..." /></span>
          
          <h2>Browse our data by...</h2>
          <div id="browse_controls">
            
          </div>
          
          <!-- messages for the user -->
          <div id="browse_messages" class="messages ui-widget"></div>
          
          <!-- results section -->
          <div id="browse_results" class="results">
            <div id="browse_results_pager_top" class="pagination"></div>
            <ul id="browse_result_list" class="result_list"></ul>
            <div id="browse_results_pager_bottom" class="pagination"></div>
            <div class="clear"></div>
          </div>
        </div>
        
        <!-- configuration options tab -->
        <!--<div id="configure"></div>-->
        
        <!-- help tab -->
        <div id="help">
          <div id="issues" class="help">
            <h2>Reporting Issues/Bugs and Requests</h2>
            <p>
              We have tried our best to build this portal as free of problems as possible, but 
              we may have still missed something.  If you have any issues or would like to 
              request a new feature that we have not yet thought of, please submit a ticket to our 
              <a href="http://dazoakley.lighthouseapp.com/projects/28425-martsearch">issue tracking 
              system</a>.  If the problem you encounter is specific to some of the data found 
              within this portal, we would ask that you please add the tag 
              <em>'sanger-mouse-portal'</em> to your ticket so that we know it is an issue 
              specific to <strong>this</strong> portal.
            </p>
          </div>
          <div id="adv_search" class="help">
            <h2 id="help_search">Searching</h2>
            <p>
              By default when you submit a search (without any of the query modifiers detailed 
              below) your search will be carried out over the following terms:
              <ul>
                <li>Gene/Marker Symbol (both current and expired)</li>
                <li>Gene/Marker Name (both current and expired)</li>
                <li>Gene Synonym (both current and expired)</li>
                <li>MGI Accession ID (both current and expired)</li>
                <li>Ensembl Gene ID (both current and expired)</li>
                <li>Vega Gene ID (both current and expired)</li>
                <li>Entrez (NCBI) Gene ID (both current and expired)</li>
                <li>CCDS ID (both current and expired)</li>
                <li>OMIM ID (both current and expired)</li>
                <li>
                  EUCOMM/KOMP Design, Intermediate/Targeting Vector and ES Cell 
                  Clone names
                </li>
                <li>Confirmed Phenotype Test</li>
                <li>Mammalian Phenotype ID (MP Term)</li>
              </ul>
            </p>
            
            <h2>Advanced Searching</h2>
            <p>
               The WTSI Mouse Recource Portal supports several advanced operators, which are 
               query words that have special meaning to us. These operators modify the search in 
               some way, or even tell us to do a totally different type of search. For instance, 
               &quot;marker_symbol:&quot; is a special operator, and the query 
               <strong>marker_symbol:Cbx1</strong> doesn't do a normal search but instead finds 
               only the genes with the marker symbol 'Cbx1'.  Listed below are details of these 
               query modifiers.
            </p>

            <h3>Query Modifiers</h3>
            <p>
            Using the following query modifiers will allow you to restrict the results of your 
            searches in a controlled way.
            </p>
            <table class="with_border">
              <tr>
                <th>marker_symbol:</th>
                <td>
                  <p>
                    i.e. <strong>marker_symbol:cbx1</strong> would return the gene record for 'Cbx1'.
                  </p>
                </td>
              </tr>
              <tr>
                <th>marker_name:</th>
                <td>
                  <p>
                    i.e. <strong>marker_name:chromobox*</strong> would return all genes with a marker 
                    name starting with 'chromobox'.
                  </p>
                </td>
              </tr>
              <tr>
                <th>chromosome:</th>
                <td>
                  <p>
                    i.e. <strong>chromosome:X</strong> would return all gene records for the X chromosome.
                  </p>
                </td>
              </tr>
              <tr>
                <th>
                  <p>mgi_accession_id:</p>
                </th>
                <td>
                  <p>
                    i.e. <strong>mgi_accession_id:MGI105369</strong> would return the gene record 
                    for 'Cbx1' - alternatively, just searching for <strong>MGI:105369</strong> would 
                    also yield the same effect as the search engine is aware of MGI Accession numbers.
                  </p>
                </td>
              </tr>
              <tr>
                <th>ensembl_gene_id:</th>
                <td>
                  <p>
                    i.e. <strong>ensembl_gene_id:ENSMUSG00000018666</strong> would return the gene record for 'Cbx1'.
                  </p>
                </td>
              </tr>
              <tr>
                <th>vega_gene_id:</th>
                <td>
                  <p>
                    i.e. <strong>vega_gene_id:OTTMUSG00000001636</strong> would return the gene record for 'Cbx1'.
                  </p>
                </td>
              </tr>
              <tr>
                <th>entrez_gene_id:</th>
                <td>
                  <p>
                    i.e. <strong>entrez_gene_id:12412</strong> would return the gene record for 'Cbx1'.
                  </p>
                </td>
              </tr>
              <tr>
                <th>ccds_id:</th>
                <td>
                  <p>
                    i.e. <strong>ccds_id:CCDS25303.1</strong> would return the gene record for 'Cbx1'.
                  </p>
                </td>
              </tr>
              <tr>
                <th>omim_id:</th>
                <td>
                  <p>
                    i.e. <strong>omim_id:113705</strong> would return the gene record for 'Brca1'.
                  </p>
                </td>
              </tr>
              <tr>
                <th>targeting_design:</th>
                <td>
                  <p>
                    This will restrict your results to entries with the corresponding 
                    <a href="http://www.komp.org">KOMP</a>/<a href="http://www.eucomm.org">EUCOMM</a> 
                    targeting design plate/well identifier.
                  </p>
                  <p>
                    i.e. <strong>targeting_design:19_B11</strong> would return the gene record for 'Cbx1' 
                    (as this is the target for this design), whereas <strong>targeting_design:19*</strong> 
                    would return a list of all genes targeted on design plate 19.
                  </p>
                </td>
              </tr>
              <tr>
                <th>intermediate_vector:</th>
                <td>
                  <p>
                    This will restrict your results to entries with the corresponding 
                    <a href="http://www.komp.org">KOMP</a>/<a href="http://www.eucomm.org">EUCOMM</a> 
                    intermediate vector plate/well identifier.
                  </p>
                  <p>
                    i.e. <strong>intermediate_vector:PCS00019_A_B11</strong> would return the gene record for 'Cbx1', 
                    (as this is the target for this vector), whereas <strong>intermediate_vector:PCS00019_A*</strong> 
                    would return a list of all genes with vectors on plate PCS00019_A.
                  </p>
                </td>
              </tr>
              <tr>
                <th>targeting_vector:</th>
                <td>
                  <p>
                    This will restrict your results to entries with the corresponding 
                    <a href="http://www.komp.org">KOMP</a>/<a href="http://www.eucomm.org">EUCOMM</a> 
                    targeting vector plate/well identifier.
                  </p>
                  <p>
                    i.e. <strong>targeting_vector:PGS00019_A_B11</strong> would return the gene record for 'Cbx1', 
                    (as this is the target for this vector), whereas <strong>targeting_vector:PGS00019_A*</strong> 
                    would return a list of all genes with vectors on plate PGS00019_A.
                  </p>
                </td>
              </tr>
              <tr>
                <th>escell:</th>
                <td>
                  <p>
                    This will restrict your results to entries with the corresponding 
                    <a href="http://www.komp.org">KOMP</a>/<a href="http://www.eucomm.org">EUCOMM</a> 
                    escell clone identifier.
                  </p>
                  <p>
                    i.e. <strong>escell:EPD0027_2_A01</strong> would return the gene record for 'Cbx1', 
                    (as this is the targeted gene in this cell), whereas <strong>escell:EPD0027_2*</strong> 
                    would return a list of all genes with targeted cells on plate EPD0027_2.
                  </p>
                </td>
              </tr>
              <tr>
                <th>phenotype:</th>
                <td>
                  <p>
                    This will restrict your results to entries with the corresponding positive phenotyping 
                    results.
                  </p>
                  <p>
                    i.e. <strong>phenotype:dexa</strong> would return the gene records for all genes that 
                    attained a positive result for the 'Dexa' phenotyping test.
                  </p>
                </td>
              </tr>
              <!--
              <tr>
                <th>mp_term:</th>
                <td>
                  <p>
                    This will restrict your results to genes with the corresponding Mammalian Phenotype Ontology IDs 
                    (MP Terms).
                  </p>
                  <p>
                    i.e. <strong>mp_term:MP0001262</strong> would return the gene records for all genes that 
                    have the associated Mammalian Phenotype Ontology ID for 'decreased body weight'.  Alternatively, 
                    just searching for <strong>MP:0001262</strong> would also yield the same effect as the search 
                    engine is aware of Mammalian Phenotype Ontology IDs.
                  </p>
                </td>
              </tr>
              -->
            </table>
            
            <h3>Boolean Operators</h3>
            <p>
              In addition to the query modifiers detailed above, boolean terms 
              such as 'AND' and 'OR' can also be used in your searches (even in 
              conjunction with the query modifiers).  Simple examples of this type 
              of use would be:
              <ul>
                <li>
                  <strong>chromosome:1 OR chromosome:2</strong> would return 
                  information for genes found on either chromosome 1 or 2.
                </li>
                <li>
                  <strong>targeting_design:19* AND chromosome:11</strong> would 
                  return information for genes targeted on design plate 19 which 
                  are also found on chromosome 11.
                </li>
              </ul>
            </p>
          </div>
        </div>
        
        <!-- about tab -->
        <div id="about">
          <h2>About This Portal</h2>
          <p>
            The Wellcome Trust Sanger Institute generates, characterises, and 
            uses a variety of reagents for mouse genetics research. It also 
            aims to facilitate the distribution of these resources to the 
            external scientific community. Here, you will find unified access 
            to the different resources available from the Institute or its 
            collaborators. The resources include: 129S7 and C57BL6/J bacterial 
            artificial chromosomes (BACs), MICER gene targeting vectors, 
            knock-out first conditional-ready gene targeting vectors, embryonic 
            stem (ES) cells with gene targeted mutations or with retroviral gene 
            trap insertions, mutant mouse lines, and phenotypic data generated 
            from the Institute's primary screen.
          </p>
          
          <h2>Powered by MartSearch</h2>
          <p>
            The WTSI Mouse Resource Portal is powered by software called 
            <a href="http://github.com/dazoakley/martsearch/">MartSearch</a>, 
            a rich javascript client for pulling together data from distributed data 
            sources (housed in Biomarts) in a single unified view.
          </p>
          <p>
            MartSearch works by first building an Apache Solr index of all of the 
            available search terms in the cloud of Biomarts (each collection of 
            terms represents a gene).
          </p>
          <p>
            When a user performs a search, the query is first run against the index 
            which returns a paginated list of genes and associated meta data, this 
            meta data is then used to retrieve the information from the cloud of 
            biomarts (data sources) available to the search interface.
          </p>
          <p>
            A graphical representation of this process is shown below.
          </p>
          <div class="center">
            <img src="images/martsearch-design.png" alt="MartSearch Design" />
          </div>
          
          <h2>Using MartSearch to Make the WTSI Mouse Resource Portal</h2>
          <p>
            Here are some of the reasons we decided to use this approach to building 
            this the WTSI Mouse Resource Portal.
          </p>
          <ul>
            <li>
              <p>
                <strong>Presenting an Integrated Overview of Mouse Data</strong>
              </p>
              <p>
                The WTSI Mouse Resource Portal focuses on mouse genes, the results 
                of high-throughput gene knockout programs,  and related phenotypic 
                and expression data. The WTSI Mouse Resource Portal talks with 
                Biomarts via web-services to gather and present its data.
              </p>
            </li>
            <li>
              <p>
                <strong>No Need for a Central Data Store or Web Server</strong>
              </p>
              <p>
                Does mouse informatics have an obvious single centre? Gene curation, 
                the production of mutant ES cells, the production of mutant mice, 
                expression and phenotyping studies all have important informatic data 
                and presentation techniques to offer the end-user. The software that 
                has been developed for the purpose of this portal (MartSearch) allows 
                these diverse groups to remain engaged in the portal's user interface 
                without having to centralise portal development and data in a single 
                datastore.
              </p>
            </li>
          </ul>
        </div>
      </div>
      <!-- END: tabs -->
      
      <div id="footer">
        <div id="powered">
          <a href="http://jquery.com" title="jQuery"><img src="images/jquery.png" alt="jQuery" /></a> 
          <a href="http://jqueryui.com" title="jQuery UI"><img src="images/jquery-ui.png" alt="jQuery UI" /></a> 
          <a href="http://lucene.apache.org/solr/" title="Apache Solr"><img src="images/solr.png" alt="Apache Solr" /></a> 
          <a href="http://www.biomart.org" title="Biomart"><img src="images/biomart.png" alt="Biomart" /></a> 
        </div>
        <div id="credits">
          Powered by <a href="http://github.com/dazoakley/martsearch/">MartSearch</a>, 
          developed by the <a href="http://www.sanger.ac.uk">Wellcome Trust Sanger Institute</a>
          
          <div>
            <p>Wellcome Trust Genome Campus, Hinxton, Cambridge, CB10 1SA, UK&nbsp;&nbsp;Tel:+44 (0)1223 834244</p>
            <p>Registered charity number 210183</p>
          </div>
        </div>
      </div>
      
    </div>
  </body>
</html>
