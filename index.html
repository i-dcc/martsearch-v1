<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>MartSearch</title>
    
    <!-- jQuery (http://jquery.com) & jQuery UI (http://jqueryui.com) -->
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js" charset="utf-8"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7/jquery-ui.min.js" charset="utf-8"></script>
    <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7/themes/base/jquery-ui.css" type="text/css" media="screen" charset="utf-8" />
    <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7/themes/redmond/jquery-ui.css" type="text/css" media="screen" charset="utf-8" />
    
    <!-- jQuery Plugins -->
    <script src="js/utils/jquery/jquery.pagination.js" type="text/javascript" charset="utf-8"></script>
    
    <!-- ActiveRecord.js (http://activerecordjs.org) -->
    <script src="js/utils/active_record/active_record.js" type="text/javascript" charset="utf-8"></script>
    
    <!-- EJS (http://embeddedjs.com/) -->
    <script src="js/utils/ejs/ejs.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/utils/ejs/view.js" type="text/javascript" charset="utf-8"></script>
    
    <!-- easymart -->
    <link type="text/css" href="css/easymart.css" rel="Stylesheet" />
    <script src="js/support.js" type="text/javascript" charset="utf-8"></script>
    
    <script src="js/utils/jamal_packed.js" type="text/javascript" charset="utf-8"></script>
    <script type="text/javascript" src="js/app_model.js" charset="utf-8"></script>
    <script type="text/javascript" src="js/app_view.js" charset="utf-8"></script>
    <script type="text/javascript" src="js/app_controller.js" charset="utf-8"></script>
    
    <script src="js/models/generic_model.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/models/gene_model.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/models/targeted_model.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/models/other_mutation_model.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/models/microinjection_model.js" type="text/javascript" charset="utf-8"></script>
    
    <script src="js/views/search_view.js" type="text/javascript" charset="utf-8"></script>
    
    <script src="js/controllers/config_controller.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/controllers/search_controller.js" type="text/javascript" charset="utf-8"></script>
    
    <!-- Blackbird (http://www.gscottolson.com/blackbirdjs) - comment out for production -->
    <script src="js/utils/blackbirdjs/blackbird.js" type="text/javascript" charset="utf-8"></script>
    <script type="text/javascript" charset="utf-8">
      $(document).ready(function() {
        $('#bbird_controls').show();
        $('#bbird_toggle').click( function () { log.toggle(); });
        $('#bbird_move').click( function () { log.move(); });
      });
    </script>
    <link type="text/css" rel="Stylesheet" href="js/utils/blackbirdjs/blackbird.css" />

    <!-- Firebug Lite (http://getfirebug.com/lite.html) - comment out for production -->
    <!--
      <script type='text/javascript' src='http://getfirebug.com/releases/lite/1.2/firebug-lite-compressed.js'></script>
      <script type="text/javascript">firebug.env.height = 500;</script>
    -->
  </head>
  <body class="jamal {controller:'Search',action:'index'}">
    <div id="content">
      
      <div id="header">
        <h1>MartSearch <span class="subhead">alpha</span></h1>
      </div>
      
      <div id="tabs">
        
        <ul>
          <li><a href="#search">Search</a></li>
          <li><a href="#browse_by_symbol">Browse By Gene Symbol</a></li>
          <li><a href="#browse_by_chr">Browse By Chromosome</a></li>
          <li><a href="#configure">Configure</a></li>
          <li><a href="#help">Help</a></li>
          <li><a href="#about">About</a></li>
        </ul>
        
        <!-- searches -->
        <div id="search">
          
          <!-- user messages -->
          <div id="messages" class="ui-widget"></div>
          
          <!-- search form -->
          <div class="center ui-widget">
            <form id="mart_search" action="index_submit" method="get" accept-charset="utf-8">
              <input type="text" name="query" value="" id="query" size="50" />&nbsp;
              <input class="ui-button ui-state-default ui-corner-all" type="submit" value="Search" />
              <input class="ui-button ui-state-default ui-corner-all" type="reset" value="Clear" /><br />
              <small>Enter gene symbols, gene or product identifiers or any other search term described in the <a id="help_link" href="#help">help</a> section.</small>
            </form>
          </div>
          
          <!-- progress bar -->
          <div id="progressbar" style="display: none;"></div>
          
          <!-- temporary loading marker -->
          <span id="loading" style="display: none;"><img src="images/loading.gif" alt="searching..." /></span>
          
          <!-- results section -->
          <div id="results">
            <div id="results_pager" class="pagination"></div>
            <ul id="result_list" class="result_list"></ul>
          </div>
          
          <!-- Intro text -->
          <div id="intro_text" class="center">
            <h2>Available Products</h2>
            <div id="product_counts" class="center"></div>
          </div>
        </div>
        
        <!-- browse by gene symbol -->
        <div id="browse_by_symbol"></div>
        
        <!-- browse by gene -->
        <div id="browse_by_chr"></div>
        
        <!-- configure -->
        <div id="configure">
          <h2>Configure Your Search</h2>
          <p>
            This feature is yet to be implemented, but when completed should 
            allow you to configure the data sources (marts) that you would 
            like to retrieve data from.
          </p>
        </div>
        
        <!-- help -->
        <div id="help">
          <h2>Advanced Searching</h2>
          <p>
             MartSearch supports several advanced operators, which are query words that have 
             special meaning to us. These operators modify the search in some way, or even 
             tell us to do a totally different type of search. For instance, &quot;marker_symbol:&quot; 
             is a special operator, and the query <strong>[marker_symbol:Cbx1]</strong> doesn't do a 
             normal search but instead finds only the genes with the marker symbol 'Cbx1'.
          </p>
          <!--
          <p>
            Several of the more common operators use punctuation instead of words, or do not 
            require a colon. Among these operators are OR, "" (the quote operator), - (the minus 
            operator), and + (the plus operator). More information on these types of operators 
            is available on the Basics of Search page. Many of these special operators are 
            accessible from the Advanced Search page, but some are not. Below is a list of all 
            the special operators Google supports.
          </p>
          -->

          <h3>Query Modifiers</h3>
          <p>
          Using the following query modifiers will allow you to restrict the results of your 
          searches in a controlled way.
          </p>
          <table class="ikmc-info">
            <tr>
              <th>marker_symbol:</th>
              <td>
                <p>
                  i.e. <strong>[marker_symbol:cbx1]</strong> would return the gene record for 'Cbx1'.
                </p>
              </td>
            </tr>
            <tr>
              <th>marker_name:</th>
              <td>
                <p>
                  i.e. <strong>[marker_name:chromobox*]</strong> would return all genes with a marker 
                  name starting with 'chromobox'.
                </p>
              </td>
            </tr>
            <tr>
              <th>chromosome:</th>
              <td>
                <p>
                  i.e. <strong>[chromosome:X]</strong> would return all gene records for the X chromosome.
                </p>
              </td>
            </tr>
            <tr>
              <th>mgi_accession_id:</th>
              <td>
                <p>
                  i.e. <strong>[mgi_accession_id:MGI105369]</strong> would return the gene record for 'Cbx1'.
                </p>
              </td>
            </tr>
            <tr>
              <th>ensembl_gene_id:</th>
              <td>
                <p>
                  i.e. <strong>[ensembl_gene_id:ENSMUSG00000018666]</strong> would return the gene record for 'Cbx1'.
                </p>
              </td>
            </tr>
            <tr>
              <th>vega_gene_id:</th>
              <td>
                <p>
                  i.e. <strong>[vega_gene_id:OTTMUSG00000001636]</strong> would return the gene record for 'Cbx1'.
                </p>
              </td>
            </tr>
            <tr>
              <th>entrez_gene_id:</th>
              <td>
                <p>
                  i.e. <strong>[entrez_gene_id:12412]</strong> would return the gene record for 'Cbx1'.
                </p>
              </td>
            </tr>
            <tr>
              <th>ccds_id:</th>
              <td>
                <p>
                  i.e. <strong>[ccds_id:CCDS25303.1]</strong> would return the gene record for 'Cbx1'.
                </p>
              </td>
            </tr>
            <tr>
              <th>omim_id:</th>
              <td>
                <p>
                  i.e. <strong>[omim_id:113705]</strong> would return the gene record for 'Brca1'.
                </p>
              </td>
            </tr>
            <tr>
              <th>targeting_design:</th>
              <td>
                <p>
                  This will restrict your results to entries with the corresponding 
                  <a href="http://www.komp.org">KOMP</a>/<a href="http://www.eucomm.org">EUCOMM</a> 
                  targeting design plate/well identifier.
                </p>
                <p>
                  i.e. <strong>[targeting_design:19_B11]</strong> would return the gene record for 'Cbx1' 
                  (as this is the target for this design), whereas <strong>[targeting_design:19*]</strong> 
                  would return a list of all genes targeted on design plate 19.
                </p>
              </td>
            </tr>
            <tr>
              <th>intermediate_vector:</th>
              <td>
                <p>
                  This will restrict your results to entries with the corresponding 
                  <a href="http://www.komp.org">KOMP</a>/<a href="http://www.eucomm.org">EUCOMM</a> 
                  intermediate vector plate/well identifier.
                </p>
                <p>
                  i.e. <strong>[intermediate_vector:PCS00019_A_B11]</strong> would return the gene record for 'Cbx1', 
                  (as this is the target for this vector), whereas <strong>[intermediate_vector:PCS00019_A*]</strong> 
                  would return a list of all genes with vectors on plate PCS00019_A.
                </p>
              </td>
            </tr>
            <tr>
              <th>targeting_vector:</th>
              <td>
                <p>
                  This will restrict your results to entries with the corresponding 
                  <a href="http://www.komp.org">KOMP</a>/<a href="http://www.eucomm.org">EUCOMM</a> 
                  targeting vector plate/well identifier.
                </p>
                <p>
                  i.e. <strong>[targeting_vector:PGS00019_A_B11]</strong> would return the gene record for 'Cbx1', 
                  (as this is the target for this vector), whereas <strong>[targeting_vector:PGS00019_A*]</strong> 
                  would return a list of all genes with vectors on plate PGS00019_A.
                </p>
              </td>
            </tr>
            <tr>
              <th>escell:</th>
              <td>
                <p>
                  This will restrict your results to entries with the corresponding 
                  <a href="http://www.komp.org">KOMP</a>/<a href="http://www.eucomm.org">EUCOMM</a> 
                  escell clone identifier.
                </p>
                <p>
                  i.e. <strong>[escell:EPD0027_2_A01]</strong> would return the gene record for 'Cbx1', 
                  (as this is the targeted gene in this cell), whereas <strong>[escell:EPD0027_2*]</strong> 
                  would return a list of all genes with targeted cells on plate EPD0027_2.
                </p>
              </td>
            </tr>
          </table>
        </div>
        
        <!-- about -->
        <div id="about">
          <h2>About MartSearch</h2>
          <p>
            MartSearch works by first building an Apache Solr index of all of the 
            available search terms in the cloud of biomarts (each collection of 
            terms represents a gene).
          </p>
          <p>
            When a user performs a search, the query is first run against the index 
            which returns a paginated list of genes and associated meta data, this 
            meta data is then used to retrieve the information from the cloud of 
            biomarts (data sources) available to the search interface.
          </p>
          <p>
            A graphical representation of this process is shown below.
          </p>
          <div class="center">
            <img src="images/martsearch-design.png" alt="MartSearch Design" />
          </div>
        </div>
        
      </div>
      
      <div id="footer">
        <div id="powered">
          <a href="http://jquery.com" title="jQuery"><img src="images/jquery.png" alt="jQuery" /></a> 
          <a href="http://jqueryui.com" title="jQuery UI"><img src="images/jquery-ui.png" alt="jQuery UI" /></a> 
          <a href="http://lucene.apache.org/solr/" title="Apache Solr"><img src="images/solr.png" alt="Apache Solr" /></a> 
          <a href="http://www.biomart.org" title="Biomart"><img src="images/biomart.png" alt="Biomart" /></a> 
        </div>
        <div id="credits">
          
        </div>
      </div>
    </div>
    <!-- jQuery UI theme switcher -->
    <script type="text/javascript" src="http://ui.jquery.com/applications/themeroller/themeswitchertool/"></script>
    <script type="text/javascript">$(function(){ $('<div style="position: absolute; right: 20px;" />').insertBefore('#header').themeswitcher({height: 150}); });</script>
  </body>
</html>