<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>I-DCC Mouse Portal</title>
    
    <!-- jQuery - the only up-front dependency... -->
    <script type="text/javascript" src="js/utils/jquery.min.js" charset="utf-8"></script>
    
    <!-- The MartSearch App -->
    <link rel="stylesheet" href="css/martsearch.css" type="text/css" media="screen" charset="utf-8" />
    <script type="text/javascript" src="js/support.js" charset="utf-8"></script>
    <script type="text/javascript" src="js/message.js" charset="utf-8"></script>
    <script type="text/javascript" src="js/index.js" charset="utf-8"></script>
    <script type="text/javascript" src="js/dataset.js" charset="utf-8"></script>
    <script type="text/javascript" src="js/martsearch.js" charset="utf-8"></script>
    <script type="text/javascript" charset="utf-8">
      jQuery(document).ready(function() {
        ms = new MartSearch({});
        //ms = new MartSearch({ base_url: "/dev/martsearch-idcc" });
        ms.init();
      });
    </script>
    
    <!-- Blackbird (http://www.gscottolson.com/blackbirdjs) - comment out for production -->
    <script src="js/utils/blackbirdjs/blackbird.js" type="text/javascript" charset="utf-8"></script>
    <link type="text/css" rel="Stylesheet" href="js/utils/blackbirdjs/blackbird.css" />
  </head>
  <body>
    <div id="content">
      
      <div id="header">
        <h1>I-DCC Mouse Portal</h1>
      </div>
      
      <noscript>
        <div id="noscript_warning" class="ui-state-error ui-corner-all">
          <span class="ui-icon ui-icon-alert"></span>
          <p>
            <strong>WARNING:</strong> It appears that you do not have javascript 
            enabled in your browser.  Unfortunately this portal will not function 
            without javascript enabled.  Please 
            <a href="http://www.google.com/search?q=enable+javascript">enable 
            javascript</a> in your browser and refresh the page.
          </p>
        </div>
      </noscript>
      
      <!-- BEGIN: tabs -->
      <div id="tabs">
        <ul>
          <li><a href="#search">Search</a></li>
          <li><a href="#browse">Browse</a></li>
          <li><a href="#configure">Configure</a></li>
          <li><a href="#help">Help</a></li>
          <li><a href="#about">About</a></li>
        </ul>
        
        <!-- main search tab -->
        <div id="search">
          
          <!-- loading marker -->
          <span id="search_loading" class="loading" style="display: none;"><img src="images/loading.gif" alt="searching..." /></span>
          
          <!-- search form -->
          <div class="center ui-widget">
            <form id="mart_search" action="search" method="get" accept-charset="utf-8">
              <input type="text" name="query" value="" id="query" size="50" />&nbsp;
              <input type="submit" value="Search" /><br />
              <small>Enter gene symbols, gene or product identifiers or any other search term described in the <a class="help_link" href="#help">help</a> section.</small>
            </form>
          </div>
          
          <!-- messages for the user -->
          <div id="search_messages" class="messages ui-widget"></div>
          
          <!-- results section -->
          <div id="search_results" class="results">
            <div id="search_results_pager_top" class="pagination"></div>
            <ul id="search_result_list" class="result_list"></ul>
            <div id="search_results_pager_bottom" class="pagination"></div>
            <div class="clear"></div>
          </div>
          
          <!-- Intro text -->
          <div id="intro_text">
            
          </div>
        </div>
        
        <!-- browse tab -->
        <div id="browse">
          
          <!-- loading marker -->
          <span id="browse_loading" class="loading" style="display: none;"><img src="images/loading.gif" alt="searching..." /></span>
          
          <h2>Browse our data by...</h2>
          <div id="browse_controls">
            
          </div>
          
          <!-- messages for the user -->
          <div id="browse_messages" class="messages ui-widget"></div>
          
          <!-- results section -->
          <div id="browse_results" class="results">
            <div id="browse_results_pager_top" class="pagination"></div>
            <ul id="browse_result_list" class="result_list"></ul>
            <div id="browse_results_pager_bottom" class="pagination"></div>
            <div class="clear"></div>
          </div>
        </div>
        
        <!-- configuration options tab -->
        <div id="configure"></div>
        
        <!-- help tab -->
        <div id="help">
          <h2>Advanced Searching</h2>
          <p>
             This search portal supports several advanced operators, which are query words that have 
             special meaning to us. These operators modify the search in some way, or even 
             tell us to do a totally different type of search. For instance, &quot;marker_symbol:&quot; 
             is a special operator, and the query <strong>[marker_symbol:Cbx1]</strong> doesn't do a 
             normal search but instead finds only the genes with the marker symbol 'Cbx1'.
          </p>
          
          <h3>Query Modifiers</h3>
          <p>
          Using the following query modifiers will allow you to restrict the results of your 
          searches in a controlled way.
          </p>
          <table class="with_border">
            <tr>
              <th>marker_symbol:</th>
              <td>
                <p>
                  i.e. <strong>[marker_symbol:cbx1]</strong> would return the gene record for 'Cbx1'.
                </p>
              </td>
            </tr>
            <tr>
              <th>marker_name:</th>
              <td>
                <p>
                  i.e. <strong>[marker_name:chromobox*]</strong> would return all genes with a marker 
                  name starting with 'chromobox'.
                </p>
              </td>
            </tr>
            <tr>
              <th>chromosome:</th>
              <td>
                <p>
                  i.e. <strong>[chromosome:X]</strong> would return all gene records for the X chromosome.
                </p>
              </td>
            </tr>
            <tr>
              <th>mgi_accession_id:</th>
              <td>
                <p>
                  i.e. <strong>[mgi_accession_id:MGI105369]</strong> would return the gene record for 'Cbx1'.
                </p>
              </td>
            </tr>
            <tr>
              <th>ensembl_gene_id:</th>
              <td>
                <p>
                  i.e. <strong>[ensembl_gene_id:ENSMUSG00000018666]</strong> would return the gene record for 'Cbx1'.
                </p>
              </td>
            </tr>
            <tr>
              <th>vega_gene_id:</th>
              <td>
                <p>
                  i.e. <strong>[vega_gene_id:OTTMUSG00000001636]</strong> would return the gene record for 'Cbx1'.
                </p>
              </td>
            </tr>
            <tr>
              <th>entrez_gene_id:</th>
              <td>
                <p>
                  i.e. <strong>[entrez_gene_id:12412]</strong> would return the gene record for 'Cbx1'.
                </p>
              </td>
            </tr>
            <tr>
              <th>ccds_id:</th>
              <td>
                <p>
                  i.e. <strong>[ccds_id:CCDS25303.1]</strong> would return the gene record for 'Cbx1'.
                </p>
              </td>
            </tr>
            <tr>
              <th>omim_id:</th>
              <td>
                <p>
                  i.e. <strong>[omim_id:113705]</strong> would return the gene record for 'Brca1'.
                </p>
              </td>
            </tr>
            <tr>
              <th>targeting_design:</th>
              <td>
                <p>
                  This will restrict your results to entries with the corresponding 
                  <a href="http://www.komp.org">KOMP</a>/<a href="http://www.eucomm.org">EUCOMM</a> 
                  targeting design plate/well identifier.
                </p>
                <p>
                  i.e. <strong>[targeting_design:19_B11]</strong> would return the gene record for 'Cbx1' 
                  (as this is the target for this design), whereas <strong>[targeting_design:19*]</strong> 
                  would return a list of all genes targeted on design plate 19.
                </p>
              </td>
            </tr>
            <tr>
              <th>intermediate_vector:</th>
              <td>
                <p>
                  This will restrict your results to entries with the corresponding 
                  <a href="http://www.komp.org">KOMP</a>/<a href="http://www.eucomm.org">EUCOMM</a> 
                  intermediate vector plate/well identifier.
                </p>
                <p>
                  i.e. <strong>[intermediate_vector:PCS00019_A_B11]</strong> would return the gene record for 'Cbx1', 
                  (as this is the target for this vector), whereas <strong>[intermediate_vector:PCS00019_A*]</strong> 
                  would return a list of all genes with vectors on plate PCS00019_A.
                </p>
              </td>
            </tr>
            <tr>
              <th>targeting_vector:</th>
              <td>
                <p>
                  This will restrict your results to entries with the corresponding 
                  <a href="http://www.komp.org">KOMP</a>/<a href="http://www.eucomm.org">EUCOMM</a> 
                  targeting vector plate/well identifier.
                </p>
                <p>
                  i.e. <strong>[targeting_vector:PGS00019_A_B11]</strong> would return the gene record for 'Cbx1', 
                  (as this is the target for this vector), whereas <strong>[targeting_vector:PGS00019_A*]</strong> 
                  would return a list of all genes with vectors on plate PGS00019_A.
                </p>
              </td>
            </tr>
            <tr>
              <th>escell:</th>
              <td>
                <p>
                  This will restrict your results to entries with the corresponding 
                  <a href="http://www.komp.org">KOMP</a>/<a href="http://www.eucomm.org">EUCOMM</a> 
                  escell clone identifier.
                </p>
                <p>
                  i.e. <strong>[escell:EPD0027_2_A01]</strong> would return the gene record for 'Cbx1', 
                  (as this is the targeted gene in this cell), whereas <strong>[escell:EPD0027_2*]</strong> 
                  would return a list of all genes with targeted cells on plate EPD0027_2.
                </p>
              </td>
            </tr>
          </table>
        </div>
        
        <!-- about tab -->
        <div id="about">
          <h2>About This Portal</h2>
          <p>
            <em>Text to come...</em>
          </p>
          
          <h2>Powered by MartSearch</h2>
          <p>
            MartSearch works by first building an Apache Solr index of all of the 
            available search terms in the cloud of biomarts (each collection of 
            terms represents a gene).
          </p>
          <p>
            When a user performs a search, the query is first run against the index 
            which returns a paginated list of genes and associated meta data, this 
            meta data is then used to retrieve the information from the cloud of 
            biomarts (data sources) available to the search interface.
          </p>
          <p>
            A graphical representation of this process is shown below.
          </p>
          <div class="center">
            <img src="images/martsearch-design.png" alt="MartSearch Design" />
          </div>
        </div>
        
      </div>
      <!-- END: tabs -->
      
      <div id="footer">
        <div id="powered">
          <a href="http://jquery.com" title="jQuery"><img src="images/jquery.png" alt="jQuery" /></a> 
          <a href="http://jqueryui.com" title="jQuery UI"><img src="images/jquery-ui.png" alt="jQuery UI" /></a> 
          <a href="http://lucene.apache.org/solr/" title="Apache Solr"><img src="images/solr.png" alt="Apache Solr" /></a> 
          <a href="http://www.biomart.org" title="Biomart"><img src="images/Biomart.png" alt="Biomart" /></a> 
        </div>
        <div id="credits">
          Powered by <a href="http://github.com/dazoakley/martsearch/">MartSearch</a>
        </div>
      </div>
      
    </div>
  </body>
  <!-- Add in javascript libraries that do not need to be in the page header -->
  <script type="text/javascript" src="js/utils/secondary_libs.js" charset="utf-8"></script>
  <script type="text/javascript" src="js/utils/ejs/ejs.js" charset="utf-8"></script>
  <script type="text/javascript" src="js/utils/ejs/view.js" charset="utf-8"></script>
</html>
