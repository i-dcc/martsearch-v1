<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>MartSearch Test Suite</title>
    
    <!-- Supporting libraries and plugins -->
    <script type="text/javascript" src="../js/utils/jquery.min.js" charset="utf-8"></script>
    <script type="text/javascript" src="../js/utils/secondary_libs.js" charset="utf-8"></script>
    <script type="text/javascript" src="../js/utils/ejs/ejs.js" charset="utf-8"></script>
    <script type="text/javascript" src="../js/utils/ejs/view.js" charset="utf-8"></script>
    
    <!-- QUnit (http://docs.jquery.com/QUnit) -->
    <script type="text/javascript" src="testrunner.js" charset="utf-8"></script>
    <script type="text/javascript" charset="utf-8">
      /* Add FireUnit logging if available - http://fireunit.org */
      if ( typeof fireunit === "object" ) {
        QUnit.log = fireunit.ok;
        QUnit.done = fireunit.testDone;
      }
    </script>
    <link rel="stylesheet" href="testsuite.css" type="text/css" media="screen, projection" />
    
    <!-- Insert the app -->
    <script type="text/javascript" src="../js/support.js" charset="utf-8"></script>
    <script type="text/javascript" src="../js/message.js" charset="utf-8"></script>
    <script type="text/javascript" src="../js/index.js" charset="utf-8"></script>
    <script type="text/javascript" src="../js/dataset.js" charset="utf-8"></script>
    <script type="text/javascript" src="../js/martsearch.js" charset="utf-8"></script>
    <script type="text/javascript" charset="utf-8">
      ms = new MartSearch({});
      //ms = new MartSearch({ base_url: "/dev/martsearch-sanger" });
      //ms = new MartSearch({ base_url: "/mouseportal" });
      ms.init();
    </script>
    
    <!-- Load the tests -->
    <script src="unit/support.js" type="text/javascript" charset="utf-8"></script>
    <script src="unit/message.js" type="text/javascript" charset="utf-8"></script>
    <script src="unit/index.js" type="text/javascript" charset="utf-8"></script>
    <script src="unit/dataset.js" type="text/javascript" charset="utf-8"></script>
    
    <!-- Blackbird (http://www.gscottolson.com/blackbirdjs) -->
    <script src="../js/utils/blackbirdjs/blackbird.js" type="text/javascript" charset="utf-8"></script>
    <link type="text/css" rel="Stylesheet" href="../js/utils/blackbirdjs/blackbird.css" />
    
    <!-- Activate the buttons for the coverage report and blackbird -->
    <script type="text/javascript" charset="utf-8">
      jQuery(document).ready( function() {
        var coverage_url = '/test_coverage/jscoverage.html?url=test';
        if ( ms.base_url ) { coverage_url = ms.base_url + coverage_url };
        jQuery('#coverage_report').click( function () { window.open( coverage_url ); });
        jQuery('#toggle_blackbird').click( function () { log.toggle(); });
      });
    </script>
  </head>
  <body>
    <h1>MartSearch Test Suite</h1>
    <h2 id="banner"></h2>
    <h2 id="userAgent"></h2>
    <div style="margin: 1em;">
      <button id="toggle_blackbird">show/hide log</button> 
      <button id="coverage_report">coverage report</button> 
    </div>
    <ol id="tests"></ol>
    <div id="main">
      
    </div>
  </body>
</html>
