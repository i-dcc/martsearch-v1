<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>MartSearch Test Suite</title>
    
    <!-- jQuery (http://jquery.com) & jQuery UI (http://jqueryui.com) -->
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js" charset="utf-8"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7/jquery-ui.min.js" charset="utf-8"></script>
    <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7/themes/redmond/jquery-ui.css" type="text/css" media="screen" charset="utf-8" />
    
    <!-- Supporting libraries and plugins -->
    <script type="text/javascript" src="../js/utils/ejs/ejs.js" charset="utf-8"></script>
    <script type="text/javascript" src="../js/utils/ejs/view.js" charset="utf-8"></script>
    <script type="text/javascript" src="../js/utils/ejs/ejs_fulljslint.js" charset="utf-8"></script>
    <script type="text/javascript" src="../js/utils/jquery/jquery.pagination.js" charset="utf-8"></script>
    <script type="text/javascript" src="../js/utils/jquery/jquery.togglecontrol.js" charset="utf-8"></script>
    <script type="text/javascript" src="../js/utils/jquery/jquery.prettyPhoto.js" charset="utf-8"></script>
    <link rel="stylesheet" href="../css/jquery.prettyPhoto.css" type="text/css" media="screen" charset="utf-8" />
    <script type="text/javascript" src="../js/utils/jquery/jquery.tablesorter.js" charset="utf-8"></script>
    <script type="text/javascript" src="../js/utils/jquery/jquery.tablesorter.pager.js" charset="utf-8"></script>
    <link rel="stylesheet" href="../css/jquery.tablesorter.css" type="text/css" media="screen" charset="utf-8" />
    
    <!-- QUnit (http://docs.jquery.com/QUnit) -->
    <script type="text/javascript" src="testrunner.js" charset="utf-8"></script>
    <script type="text/javascript" charset="utf-8">
      /* Add FireUnit logging if available - http://fireunit.org */
      if ( typeof fireunit === "object" ) {
        QUnit.log = fireunit.ok;
        QUnit.done = fireunit.testDone;
      }
    </script>
    <link rel="stylesheet" href="testsuite.css" type="text/css" media="screen, projection" />
    
    <!-- Insert the app -->
    <script type="text/javascript" src="../js/support.js" charset="utf-8"></script>
    <script type="text/javascript" src="../js/message.js" charset="utf-8"></script>
    <script type="text/javascript" src="../js/index.js" charset="utf-8"></script>
    <script type="text/javascript" src="../js/dataset.js" charset="utf-8"></script>
    <script type="text/javascript" src="../js/martsearch.js" charset="utf-8"></script>
    <script type="text/javascript" charset="utf-8">
      ms = new MartSearch({});
      //ms = new MartSearch({ base_url: "/dev/martsearch-sanger" });
      ms.init();
    </script>
    
    <!-- Load the tests -->
    <script src="unit/support.js" type="text/javascript" charset="utf-8"></script>
    <script src="unit/message.js" type="text/javascript" charset="utf-8"></script>
    <script src="unit/index.js" type="text/javascript" charset="utf-8"></script>
    <script src="unit/dataset.js" type="text/javascript" charset="utf-8"></script>
    
    <!-- Blackbird (http://www.gscottolson.com/blackbirdjs) -->
    <script src="../js/utils/blackbirdjs/blackbird.js" type="text/javascript" charset="utf-8"></script>
    <link type="text/css" rel="Stylesheet" href="../js/utils/blackbirdjs/blackbird.css" />
    
    <!-- Firebug Lite (http://getfirebug.com/lite.html) - comment out for production -->
    <!--
    <script type='text/javascript' src='http://getfirebug.com/releases/lite/1.2/firebug-lite-compressed.js'></script>
    <script type="text/javascript">firebug.env.height = 300;</script>
    -->
    
    <!-- Activate the buttons for the coverage report and blackbird -->
    <script type="text/javascript" charset="utf-8">
      jQuery(document).ready( function() {
        var coverage_url = '/test_coverage/jscoverage.html?url=test';
        if ( ms.base_url ) { coverage_url = ms.base_url + coverage_url };
        jQuery('#coverage_report').click( function () { window.open( coverage_url ); });
        jQuery('#toggle_blackbird').click( function () { log.toggle(); });
      });
    </script>
  </head>
  <body>
    <h1>MartSearch Test Suite</h1>
    <h2 id="banner"></h2>
    <h2 id="userAgent"></h2>
    <div style="margin: 1em;">
      <button id="toggle_blackbird">show/hide log</button> 
      <button id="coverage_report">coverage report</button> 
    </div>
    <ol id="tests"></ol>
    <div id="main">
      
    </div>
  </body>
</html>
