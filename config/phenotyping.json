({
  url:                  '/htgtdev/biomart/martservice',
  name:                 'Phenotyping Data',
  description:          '',
  datasetConfigVersion: 0.6,
  dataset_name:         'PHENOTYPING',
  
  importables:
    [
      { name: 'escell_clone_name' }
    ],
  
  exportables:
    [
      { name: 'escell_clone_name' }
    ],
  
  filters:
    [
      { name: 'gene_symbol',            display: 'Gene Symbol',                         enabled: false },
      { name: 'escell_clone_name',      display: 'ES Cell Clone Name',                  enabled: true },
    ],
  
  attributes:
    [
      { name: 'gene_symbol',                display: 'Gene Symbol',                         enabled: false },
      { name: 'escell_clone_name',          display: 'ES Cell Clone Name',                  enabled: true },
      
      { name: "number_of_hits",             display: "Number of Hits",                      enabled: false },
      { name: "skin_screen",                display: "Skin Screen",                         enabled: true },
      { name: "micronuclei_naive",          display: "Micronuclei (naive)",                 enabled: true },
      { name: "homozygote_viability",       display: "Homozygote Viability",                enabled: true },
      { name: "abr",                        display: "ABR",                                 enabled: true },
      { name: "haematology",                display: "Haematology",                         enabled: true },
      { name: "adult_expression",           display: "Adult Expression",                    enabled: true },
      { name: "salmonella_challenge",       display: "Salmonella Challenge",                enabled: true },
      { name: "core_temperature",           display: "Core Temperature",                    enabled: true },
      { name: "dysmorphology",              display: "Dysmorphology",                       enabled: true },
      { name: "heart_histology",            display: "Heart Histology",                     enabled: true },
      { name: "embryo_expression",          display: "Embryo Expression",                   enabled: true },
      { name: "ip_gtt",                     display: "IP-GTT",                              enabled: true },
      { name: "growth",                     display: "Growth",                              enabled: true },
      { name: "dexa",                       display: "DEXA",                                enabled: true },
      { name: "modified_shirpa",            display: "Modified Shirpa",                     enabled: true },
      { name: "micronuclei_irradiated",     display: "Micronuclei (irradiated)",            enabled: true },
      { name: "heart_weights",              display: "Heart Weights",                       enabled: true },
      { name: "insulin",                    display: "Insulin",                             enabled: true },
      { name: "histology",                  display: "Histology",                           enabled: true },
      { name: "blood_pressure",             display: "Blood Pressure",                      enabled: true },
      { name: "open_field",                 display: "Open Field",                          enabled: true },
      { name: "rotarod",                    display: "Rotarod",                             enabled: true },
      { name: "grip_strength",              display: "Grip Strength",                       enabled: true },
      { name: "fasted_clinical_chemsitry",  display: "Fasted Clinical Chemsitry",           enabled: true },
      { name: "x_ray_imaging",              display: "X-Ray Imaging",                       enabled: true },
      { name: "full_clinical_chemsitry",    display: "Full Clinical Chemsitry",             enabled: true },
      { name: "calorimetry",                display: "Calorimetry",                         enabled: true },
      { name: "fertility",                  display: "Fertility",                           enabled: true },
      { name: "vision",                     display: "Vision",                              enabled: true },
      { name: "citrobacter_challenge",      display: "Citrobacter Challenge",               enabled: true },
      { name: "hot_plate",                  display: "Hot Plate",                           enabled: true },
      
    ],
  
  template: function ( data ) {
    
    var display_name_cache = {};
    $.each( data.source.attributes, function() {
      display_name_cache[this.name] = this.display;
    });
    
    var output = '<table class="pheno_data">';
    
    $.each( data.results, function(index, result_array) {
      output += '<tr>';
      $.each( result_array, function(name, val) {
        if ( name.match('gene_symbol') || name.match('escell_clone_name') || name.match('number_of_hits') ) {
          output +='<td>'+val+'</td>';
        } else {
          if ( val.match('no_significant_difference') ) {
            output += 
              '<td class="pheno_result no_sig_diff">'+
                '<span>'+
                  '<strong>'+display_name_cache[name]+'</strong>'+
                  '<p>No significant difference.</p>'+
                '</span>'+
              '</td>';
          }
          else if ( val.match('significant_difference') ) {
            output += 
              '<td class="pheno_result sig_diff">'+
                '<span>'+
                  '<strong>'+display_name_cache[name]+'</strong>'+
                  '<p>95&#37; confidence that there is significant difference between the means of the wt vs mutant.</p>'+
                  '<p>(Not taking into consideration multiple testing issued, therefore will certainly have false positives).</p>'+
                '</span>'+
              '</td>';

          }
          else if ( val.match('not_applicable') ) {
            output += 
              '<td class="pheno_result not_applic">'+
                '<span>'+
                  '<strong>'+display_name_cache[name]+'</strong>'+
                  '<p>Not applicable <em>e.g.</em> no lacZ, therefore expression not possible.</p>'+
                '</span>'+
              '</td>';

          }
          else {
            output += 
              '<td class="pheno_result">'+
                '<span>'+
                  '<strong>'+display_name_cache[name]+'</strong>'+
                  '<p>Test not carried out yet.</p>'+
                '</span>'+
              '</td>';
          };
        };
      });
      output += '</tr>';
    });
    
    output += '</table>';
    
    $( data.dom_element ).html( output );
    
  }
})